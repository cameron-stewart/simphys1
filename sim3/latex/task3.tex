\section{Restart the program where left it}

First we want to change the programm in a way, that it is able to restart the simulation where it ended last time.
The first thing that we have to do is to store the necessary information about the end state of the system, the position x and velocity v of each particle, into the file ljsim.dat. 
This happens in code block \ref{3storing}.
Furthermore there are the new variables Ts and Ps.
The represent the temperature and pressure of the system over time and will be explained in the next chapter.

\listfile{../src/ljsim.py}{src/ljsim.py}{208}{212}{Storing data}{3storing}

%\begin{lstlisting}[
%	style=MyPythonstyle, 
%	caption=Storing data
%	\hfill script:\ \ \ 
%	src/ljsim.py, 
%	label=3storing, 
%	firstnumber=208
%	]
%# write out simulation data
%print("Writing simulation data to {}.".format(datafilename))
%datafile = open(datafilename, 'w')
%pickle.dump([ts, Es, Ts, Ps, x, v], datafile)
%datafile.close()
%\end{lstlisting}

Now this data must be read by ljsim.py.
Therefore we define a command line parameter \ls{--cont} which accepts as argument the time for which the simulation should be continued (code block \ref{comsim}).
If the parameter is not used the simulation will start new.
Furtehrmore there is another argument \ls{--time} which takes the simulationtime for a new simulation.
The code in code block \ref{3cont} does exactly this.

\listfile{../src/ljsim.py}{src/ljsim.py}{65}{82}{Continue simulation}{3cont}

